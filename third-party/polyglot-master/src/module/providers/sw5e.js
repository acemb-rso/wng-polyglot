import LanguageProvider from "./templates/Base.js";

export default class sw5eLanguageProvider extends LanguageProvider {
	languages = {
		basic: {
			font: "Celestial",
		},
		abyssin: {
			font: "Barazhad",
		},
		aleena: {
			font: "Jungle Slang",
		},
		antarian: {
			font: "Ar Ciela",
		},
		anzellan: {
			font: "Valmaric",
		},
		aqualish: {
			font: "Floki",
		},
		arconese: {
			font: "Ork Glyphs",
		},
		ardennian: {
			font: "Thorass",
		},
		arkanian: {
			font: "Celestial",
		},
		balosur: {
			font: "Ar Ciela",
		},
		barabel: {
			font: "Dark Eldar",
		},
		besalisk: {
			font: "Barazhad",
		},
		binary: {
			font: "Celestial",
		},
		bith: {
			font: "Skaven",
		},
		bocce: {
			font: "Tuzluca",
		},
		bothese: {
			font: "Infernal",
		},
		catharese: {
			font: "Espruar",
		},
		cerean: {
			font: "Olde Espruar",
		},
		"chadra-fan": {
			font: "Infernal",
		},
		chagri: {
			font: "Ophidian",
		},
		cheunh: {
			font: "Ar Ciela",
		},
		chevin: {
			font: "Eltharin",
		},
		chironan: {
			font: "Saurian",
		},
		clawdite: {
			font: "Reanaarian",
		},
		codruese: {
			font: "Meroitic Demotic",
		},
		colicoid: {
			font: "Thassilonian",
		},
		dashadi: {
			font: "Iokharic",
		},
		defel: {
			font: "Dark Eldar",
		},
		devaronese: {
			font: "Iokharic",
		},
		dosh: {
			font: "Iokharic",
		},
		draethos: {
			font: "Pulsian",
		},
		durese: {
			font: "Reanaarian",
		},
		dug: {
			font: "Qijomi",
		},
		ewokese: {
			font: "Skaven",
		},
		falleen: {
			font: "Tengwar",
		},
		felucianese: {
			font: "Skaven",
		},
		gamorrese: {
			font: "Highschool Runes",
		},
		gand: {
			font: "Reanaarian",
		},
		geonosian: {
			font: "Maras Eye",
		},
		givin: {
			font: "High Drowic",
		},
		gran: {
			font: "Qijomi",
		},
		gungan: {
			font: "Highschool Runes",
		},
		hapan: {
			font: "Valmaric",
		},
		harchese: {
			font: "Thassilonian",
		},
		herglese: {
			font: "Ophidian",
		},
		honoghran: {
			font: "Tuzluca",
		},
		huttese: {
			font: "Thassilonian",
		},
		iktotchese: {
			font: "Iokharic",
		},
		ithorese: {
			font: "Dethek",
		},
		jawaese: {
			font: "Valmaric",
		},
		kaleesh: {
			font: "Infernal",
		},
		kaminoan: {
			font: "Ar Ciela",
		},
		karkaran: {
			font: "Ophidian",
		},
		keldor: {
			font: "Meroitic Demotic",
		},
		kharan: {
			font: "Ar Ciela",
		},
		killik: {
			font: "Thassilonian",
		},
		klatooinian: {
			font: "Thassilonian",
		},
		kubazian: {
			font: "Olde Thorass",
		},
		kushiban: {
			font: "Thorass",
		},
		kyuzo: {
			font: "Barazhad",
		},
		lannik: {
			font: "Semphari",
		},
		lasat: {
			font: "Floki",
		},
		lowickese: {
			font: "Qijomi",
		},
		lurmese: {
			font: "Jungle Slang",
		},
		mandoa: {
			font: "Kargi",
		},
		miralukese: {
			font: "Miroslav Normal",
		},
		mirialan: {
			font: "Miroslav Normal",
		},
		moncal: {
			font: "Dark Eldar",
		},
		mustafarian: {
			font: "Ork Glyphs",
		},
		muun: {
			font: "Tengwar",
		},
		nautila: {
			font: "Ophidian",
		},
		ortolan: {
			font: "Thorass",
		},
		pakpak: {
			font: "Olde Thorass",
		},
		pyke: {
			font: "Meroitic Demotic",
		},
		quarrenese: {
			font: "Ophidian",
		},
		rakata: {
			font: "Iokharic",
		},
		rattataki: {
			font: "Infernal",
		},
		rishii: {
			font: "Maras Eye",
		},
		rodese: {
			font: "Meroitic Demotic",
		},
		ryn: {
			font: "Espruar",
		},
		selkatha: {
			font: "Ophidian",
		},
		semblan: {
			font: "Finger Alphabet",
		},
		shistavanen: {
			font: "Pulsian",
		},
		shyriiwook: {
			font: "Olde Espruar",
		},
		sith: {
			font: "High Drowic",
		},
		squibbian: {
			font: "Valmaric",
		},
		sriluurian: {
			font: "Jungle Slang",
		},
		"ssi-ruuvi": {
			font: "Maras Eye",
		},
		sullustese: {
			font: "Highschool Runes",
		},
		talzzi: {
			font: "Olde Thorass",
		},
		tarasinese: {
			font: "Olde Espruar",
		},
		thisspiasian: {
			font: "Ar Ciela",
		},
		togorese: {
			font: "Floki",
		},
		togruti: {
			font: "Pulsian",
		},
		toydarian: {
			font: "Espruar",
		},
		tusken: {
			font: "Semphari",
		},
		"twi'leki": {
			font: "Tuzluca",
		},
		ugnaught: {
			font: "Floki",
		},
		umbaran: {
			font: "Jungle Slang",
		},
		utapese: {
			font: "Eltharin",
		},
		verpine: {
			font: "Thassilonian",
		},
		vong: {
			font: "Valmaric",
		},
		voss: {
			font: "Iokharic",
		},
		yevethan: {
			font: "High Drowic",
		},
		zabraki: {
			font: "Maras Eye",
		},
		zygerrian: {
			font: "Floki",
		},
	};

	languageRarities = ["standard", "exotic"];

	async getLanguages() {
		const languagesSetting = game.settings.get("polyglot", "Languages");
		const langs = {};
		if (this.replaceLanguages) {
			CONFIG.SW5E.languages = {};
		}
		const systemLanguages = CONFIG.SW5E.languages;
		const getLang = (key, target) => {
			const processLanguage = (label) => {
				if (label) {
					langs[key] = {
						label,
						font: languagesSetting[key]?.font || this.languages[key]?.font || this.defaultFont,
						rng: languagesSetting[key]?.rng ?? "default",
					};
				}
			};

			if (target[key].children) {
				Object.keys(target[key].children).forEach((kkey) => {
					getLang(kkey, target[key].children);
				});
			} else {
				processLanguage(game.i18n.localize(target[key]));
			}
		};
		Object.keys(systemLanguages).forEach((key) => {
			if (this.languageRarities.includes(key)) {
				Object.keys(systemLanguages[key].children).forEach((kkey) => {
					getLang(kkey, systemLanguages[key].children);
				});
			} else {
				getLang(key, systemLanguages);
			}
		});
		this.languages = langs;
	}

	getSystemDefaultLanguage() {
		return "basic";
	}
}
